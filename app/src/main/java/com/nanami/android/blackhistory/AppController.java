package com.nanami.android.blackhistory;import android.app.Application;import android.support.annotation.Nullable;//import com.facebook.stetho.Stetho;//import com.facebook.stetho.okhttp.StethoInterceptor;import com.nanami.android.blackhistory.utils.BHLogger;import com.nanami.android.blackhistory.utils.TwitterUtils;import com.squareup.okhttp.Interceptor;import com.squareup.okhttp.OkHttpClient;import java.lang.reflect.Field;import java.util.List;import twitter4j.AlternativeHttpClientImpl;import twitter4j.HttpClient;import twitter4j.Twitter;/** * Created by TEJNEK on 2016/01/13. */public class AppController extends Application {    private static AppController mInstance;    @Override    public void onCreate() {        super.onCreate();        mInstance = this;        // for Stetho debug//        Stetho.initialize(//                Stetho//                        .newInitializerBuilder(this)//                        .enableDumpapp(Stetho.defaultDumperPluginsProvider(this))//                        .enableWebKitInspector(Stetho.defaultInspectorModulesProvider(this))//                        .build()//        );//        TwitterUtils.deleteAllAccount(this);    }    public static synchronized AppController get(){        return mInstance;    }    /**     * http://qiita.com/takke/items/96b7a45f0476d546b5b1     * @param twitter     *///    public void onTwitterConnectionEstablished(Twitter twitter){//        try {//            final twitter4j.AlternativeHttpClientImpl http = getHttpClientImpl(twitter);//            final OkHttpClient client = getOkHttpClient(http);////            if (client != null) {////                final List<Interceptor> interceptors = client.networkInterceptors();//                if (interceptors.size() == 0) {//                    interceptors.add(new StethoInterceptor());//                }//            }////        } catch (Exception e) {//            BHLogger.println(e);//        }//    }////    private twitter4j.AlternativeHttpClientImpl getHttpClientImpl(//            final Twitter twitter) throws ClassNotFoundException,//            NoSuchFieldException, IllegalAccessException {////        final Class<?> clazz = Class.forName("twitter4j.TwitterBaseImpl");//        final Field f1 = clazz.getDeclaredField("http");//        f1.setAccessible(true);//        final HttpClient impl = (HttpClient) f1.get(twitter);//        return (twitter4j.AlternativeHttpClientImpl) impl;//    }////    @Nullable//    private OkHttpClient getOkHttpClient(AlternativeHttpClientImpl http) {////        try {//            final Field f3 = ((Object) http).getClass().getDeclaredField("okHttpClient");//            f3.setAccessible(true);////            // client = http.okHttpClient//            return (OkHttpClient) f3.get(http);//        } catch (Exception e) {//            BHLogger.println(e);//            return null;//        }//    }}